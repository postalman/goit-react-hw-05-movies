{"version":3,"file":"static/js/115.5817f1f5.chunk.js","mappings":"iOAgFA,UA3Ee,WACb,OAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACkB,YAAtBJ,EAASK,UACXX,EAAS,GAEZ,GAAE,CAACM,KAEJI,EAAAA,EAAAA,YAAU,WACR,IAAME,EAAaR,EAAaS,IAAI,UAAY,GAC5CD,GACFZ,EAASY,GACTE,EAAYF,IAEZV,EAAU,GAEb,GAAE,CAACE,EAAcC,IAElB,IAAMS,EAAW,mCAAG,WAAMC,GAAN,6EACH,mCADG,SAEKC,EAAAA,EAAAA,IAAA,4DADR,mCACQ,kBACgDD,IAHrD,OAEZE,EAFY,OAKlBf,EAAUe,EAASC,KAAKC,SALN,2CAAH,sDA4BjB,OAFAC,QAAQC,IAAItB,GACZqB,QAAQC,IAAIf,IAEV,4BACE,wBAAI,mBACJ,kBAAMgB,SAbW,SAAAC,GACnBA,EAAEC,iBACmB,KAAjBzB,EAAM0B,SACRjB,EAAS,iBAAD,OAAmBT,IAC3Be,EAAYf,GAEf,EAOG,WACE,kBACE2B,KAAK,OACLC,MAAO5B,EACP6B,SAAU,SAAAL,GAAC,OAAIvB,EAASuB,EAAEM,OAAOF,MAAtB,KAEb,mBAAQD,KAAK,SAAb,SAAsB,eAExB,wBACGzB,EAAO6B,KAAI,SAAAC,GAAK,OACf,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaD,EAAME,IAAMC,MAAO,CAAEC,KAAM7B,GAAhD,SACGyB,EAAMK,SAFFL,EAAME,GADA,QAUxB,C","sources":["components/Movies/Movies.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSearchParams, Link, useLocation, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\n\nconst Movies = () => {\n  const [query, setQuery] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (location.pathname === '/movies') {\n      setQuery('');\n    }\n  }, [location]);\n\n  useEffect(() => {\n    const savedQuery = searchParams.get('query') || '';\n    if (savedQuery) {\n      setQuery(savedQuery);\n      fetchMovies(savedQuery);\n    } else {\n      setMovies([]);\n    }\n  }, [searchParams, setSearchParams]);\n\n  const fetchMovies = async searchQuery => {\n    const apiKey = '4b5f3337782451842d3d2458bd4af72e';\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${searchQuery}`\n    );\n    setMovies(response.data.results);\n  };\n\n  // const handleSubmit = e => {\n  //   e.preventDefault();\n  //   if (query.trim() !== '') {\n  //     const params = new URLSearchParams();\n  //     params.set('query', query);\n  //     setSearchParams(params);\n  //     fetchMovies(query);\n  //   }\n  // };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (query.trim() !== '') {\n      navigate(`/movies?query=${(query)}`);\n      fetchMovies(query);\n    }\n  };\n\n  console.log(query);\n  console.log(location);\n  return (\n    <div>\n      <h1>Search Movies</h1>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          value={query}\n          onChange={e => setQuery(e.target.value)}\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n      <ul>\n        {movies.map(movie => (\n          <li key={movie.id}>\n            <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n              {movie.title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Movies;\n\nMovies.propTypes = {\n  movieId: PropTypes.string,\n};\n"],"names":["useState","query","setQuery","movies","setMovies","useSearchParams","searchParams","setSearchParams","location","useLocation","navigate","useNavigate","useEffect","pathname","savedQuery","get","fetchMovies","searchQuery","axios","response","data","results","console","log","onSubmit","e","preventDefault","trim","type","value","onChange","target","map","movie","to","id","state","from","title"],"sourceRoot":""}